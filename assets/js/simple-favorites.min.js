jQuery(function(t){function a(){t.ajax({url:simple_favorites.ajaxurl,type:"post",datatype:"json",data:{action:"simplefavoritesnonce"},success:function(t){i(t.nonce)}})}function i(a){var i='<script type="text/javascript"> var simple_favorites_nonce = "'+a+'" ;</script>';t("head").append(i)}function e(){t.ajax({url:simple_favorites.ajaxurl,type:"post",datatype:"json",data:{action:"simplefavorites_array"},success:function(a){var i=[];t.each(a.favorites,function(t,a){i[t]=a}),s(i)}})}function s(a){var i=t(".simplefavorite-button");t.each(i,function(){var i=t(this).data("postid");-1!==t.inArray(i.toString(),a)?t(this).addClass("active").html(simple_favorites.favorited):t(this).removeClass("active").html(simple_favorites.favorite)})}function o(){var a=t(".favorites-list");t.each(a,function(){var a=t(this).data("userid"),i=t(this).data("links"),e=t(this);n(e,a,i)})}function n(a,i,e){t.ajax({url:simple_favorites.ajaxurl,type:"post",datatype:"json",data:{action:"simplefavorites_list",userid:i,links:e},success:function(i){t(a).html(i.list)}})}function r(a){var i=t(a).data("postid"),e="inactive";if(t(a).hasClass("active"))t(a).removeClass("active"),t(a).html(simple_favorites.favorite);else{var e="active";t(a).addClass("active"),t(a).html(simple_favorites.favorited)}t.ajax({url:simple_favorites.ajaxurl,type:"post",datatype:"json",data:{action:"simplefavorites",nonce:simple_favorites_nonce,postid:i,status:e},success:function(t){console.log(t)}})}t(document).ready(function(){a()}),t(document).ready(function(){e(),o()}),t(document).on("click",".simplefavorite-button",function(a){a.preventDefault();var i=t(this);r(i)})});